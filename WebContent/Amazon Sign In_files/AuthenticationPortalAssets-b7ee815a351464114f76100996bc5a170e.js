(function(n){var r=window.AmazonUIPageJS||window.P,A=r._namespace||r.attributeErrors,l=A?A("JQuery_Cookie_AUIBuild"):r;l.guardFatal?l.guardFatal(n)(l,window):l.execute(function(){n(l,window)})})(function(n,r,A){n.when("jQuery").register("jQuery-Cookie",function(l){(function(h){"function"===typeof define&&define.amd?define(["jquery"],h):h(l)})(function(h){function k(d){return g.raw?d:decodeURIComponent(d.replace(e," "))}function f(d){0===d.indexOf('"')&&(d=d.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,
"\\"));d=k(d);try{return g.json?JSON.parse(d):d}catch(e){}}var e=/\+/g,g=h.cookie=function(d,e,b){if(e!==A){b=h.extend({},g.defaults,b);if("number"===typeof b.expires){var a=b.expires,c=b.expires=new Date;c.setDate(c.getDate()+a)}e=g.json?JSON.stringify(e):String(e);return document.cookie=[g.raw?d:encodeURIComponent(d),"=",g.raw?e:encodeURIComponent(e),b.expires?"; expires="+b.expires.toUTCString():"",b.path?"; path="+b.path:"",b.domain?"; domain="+b.domain:"",b.secure?"; secure":""].join("")}e=document.cookie.split("; ");
b=d?A:{};a=0;for(c=e.length;a<c;a++){var l=e[a].split("="),n=k(l.shift()),l=l.join("=");if(d&&d===n){b=f(l);break}d||(b[n]=f(l))}return b};g.defaults={};h.removeCookie=function(d,e){return h.cookie(d)!==A?(h.cookie(d,"",h.extend({},e,{expires:-1})),!0):!1}})})});
(function(n){var r=window.AmazonUIPageJS||window.P,A=r._namespace||r.attributeErrors,l=A?A("JQueryUI_Widget_AUIBuild"):r;l.guardFatal?l.guardFatal(n)(l,window):l.execute(function(){n(l,window)})})(function(n,r,A){n.when("jQuery").register("jQueryUI-widget",function(l){(function(h,k){var f=0,e=Array.prototype.slice,g=h.cleanData;h.cleanData=function(d){for(var e=0,b;null!=(b=d[e]);e++)try{h(b).triggerHandler("remove")}catch(a){}g(d)};h.widget=function(d,e,b){var a,c,f,g,k={},l=d.split(".")[0];d=d.split(".")[1];
a=l+"-"+d;b||(b=e,e=h.Widget);h.expr[":"][a.toLowerCase()]=function(c){return!!h.data(c,a)};h[l]=h[l]||{};c=h[l][d];f=h[l][d]=function(a,c){if(!this._createWidget)return new f(a,c);arguments.length&&this._createWidget(a,c)};h.extend(f,c,{version:b.version,_proto:h.extend({},b),_childConstructors:[]});g=new e;g.options=h.widget.extend({},g.options);h.each(b,function(a,c){h.isFunction(c)?k[a]=function(){var b=function(){return e.prototype[a].apply(this,arguments)},d=function(c){return e.prototype[a].apply(this,
c)};return function(){var a=this._super,e=this._superApply,f;this._super=b;this._superApply=d;f=c.apply(this,arguments);this._super=a;this._superApply=e;return f}}():k[a]=c});f.prototype=h.widget.extend(g,{widgetEventPrefix:c?g.widgetEventPrefix:d},k,{constructor:f,namespace:l,widgetName:d,widgetFullName:a});c?(h.each(c._childConstructors,function(a,c){var b=c.prototype;h.widget(b.namespace+"."+b.widgetName,f,c._proto)}),delete c._childConstructors):e._childConstructors.push(f);h.widget.bridge(d,
f)};h.widget.extend=function(d){for(var f=e.call(arguments,1),b=0,a=f.length,c,g;b<a;b++)for(c in f[b])g=f[b][c],f[b].hasOwnProperty(c)&&g!==k&&(h.isPlainObject(g)?d[c]=h.isPlainObject(d[c])?h.widget.extend({},d[c],g):h.widget.extend({},g):d[c]=g);return d};h.widget.bridge=function(d,f){var b=f.prototype.widgetFullName||d;h.fn[d]=function(a){var c="string"===typeof a,g=e.call(arguments,1),l=this;a=!c&&g.length?h.widget.extend.apply(null,[a].concat(g)):a;c?this.each(function(){var c,e=h.data(this,
b);if(!e)return h.error("cannot call methods on "+d+" prior to initialization; attempted to call method '"+a+"'");if(!h.isFunction(e[a])||"_"===a.charAt(0))return h.error("no such method '"+a+"' for "+d+" widget instance");c=e[a].apply(e,g);if(c!==e&&c!==k)return l=c&&c.jquery?l.pushStack(c.get()):c,!1}):this.each(function(){var c=h.data(this,b);c?c.option(a||{})._init():h.data(this,b,new f(a,this))});return l}};h.Widget=function(){};h.Widget._childConstructors=[];h.Widget.prototype={widgetName:"widget",
widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(d,e){e=h(e||this.defaultElement||this)[0];this.element=h(e);this.uuid=f++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=h.widget.extend({},this.options,this._getCreateOptions(),d);this.bindings=h();this.hoverable=h();this.focusable=h();e!==this&&(h.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(b){b.target===e&&this.destroy()}}),this.document=h(e.style?
e.ownerDocument:e.document||e),this.window=h(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:h.noop,_getCreateEventData:h.noop,_create:h.noop,_init:h.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(h.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+
"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:h.noop,widget:function(){return this.element},option:function(d,e){var b=d,a,c,f;if(0===arguments.length)return h.widget.extend({},this.options);if("string"===typeof d)if(b={},a=d.split("."),d=a.shift(),a.length){c=b[d]=h.widget.extend({},this.options[d]);for(f=0;f<a.length-1;f++)c[a[f]]=c[a[f]]||{},c=c[a[f]];d=a.pop();if(e===
k)return c[d]===k?null:c[d];c[d]=e}else{if(e===k)return this.options[d]===k?null:this.options[d];b[d]=e}this._setOptions(b);return this},_setOptions:function(d){for(var e in d)this._setOption(e,d[e]);return this},_setOption:function(d,e){this.options[d]=e;"disabled"===d&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"));return this},enable:function(){return this._setOption("disabled",
!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(d,e,b){var a,c=this;"boolean"!==typeof d&&(b=e,e=d,d=!1);b?(e=a=h(e),this.bindings=this.bindings.add(e)):(b=e,e=this.element,a=this.widget());h.each(b,function(b,f){function g(){if(d||!0!==c.options.disabled&&!h(this).hasClass("ui-state-disabled"))return("string"===typeof f?c[f]:f).apply(c,arguments)}"string"!==typeof f&&(g.guid=f.guid=f.guid||g.guid||h.guid++);var k=b.match(/^(\w+)\s*(.*)$/),l=k[1]+c.eventNamespace;(k=k[2])?
a.delegate(k,l,g):e.bind(l,g)})},_off:function(d,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;d.unbind(e).undelegate(e)},_delay:function(d,e){var b=this;return setTimeout(function(){return("string"===typeof d?b[d]:d).apply(b,arguments)},e||0)},_hoverable:function(d){this.hoverable=this.hoverable.add(d);this._on(d,{mouseenter:function(d){h(d.currentTarget).addClass("ui-state-hover")},mouseleave:function(d){h(d.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(d){this.focusable=
this.focusable.add(d);this._on(d,{focusin:function(d){h(d.currentTarget).addClass("ui-state-focus")},focusout:function(d){h(d.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(d,e,b){var a,c=this.options[d];b=b||{};e=h.Event(e);e.type=(d===this.widgetEventPrefix?d:this.widgetEventPrefix+d).toLowerCase();e.target=this.element[0];if(d=e.originalEvent)for(a in d)a in e||(e[a]=d[a]);this.element.trigger(e,b);return!(h.isFunction(c)&&!1===c.apply(this.element[0],[e].concat(b))||e.isDefaultPrevented())}};
h.each({show:"fadeIn",hide:"fadeOut"},function(d,e){h.Widget.prototype["_"+d]=function(b,a,c){"string"===typeof a&&(a={effect:a});var f,g=a?!0===a||"number"===typeof a?e:a.effect||e:d;a=a||{};"number"===typeof a&&(a={duration:a});f=!h.isEmptyObject(a);a.complete=c;a.delay&&b.delay(a.delay);if(f&&h.effects&&h.effects.effect[g])b[d](a);else if(g!==d&&b[g])b[g](a.duration,a.easing,c);else b.queue(function(a){h(this)[d]();c&&c.call(b[0]);a()})}})})(l);return l})});
(function(n){var r=window.AmazonUIPageJS||window.P,A=r._namespace||r.attributeErrors,l=A?A("JQueryUI_Position_AUIBuild"):r;l.guardFatal?l.guardFatal(n)(l,window):l.execute(function(){n(l,window)})})(function(n,r,A){n.when("jQuery").register("jQueryUI-position",function(l){(function(h,k){function f(a,c,b){return[parseFloat(a[0])*(t.test(a[0])?c/100:1),parseFloat(a[1])*(t.test(a[1])?b/100:1)]}function e(a){var c=a[0];return 9===c.nodeType?{width:a.width(),height:a.height(),offset:{top:0,left:0}}:h.isWindow(c)?
{width:a.width(),height:a.height(),offset:{top:a.scrollTop(),left:a.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:a.outerWidth(),height:a.outerHeight(),offset:a.offset()}}h.ui=h.ui||{};var g,d=Math.max,l=Math.abs,b=Math.round,a=/left|center|right/,c=/top|center|bottom/,p=/[\+\-]\d+(\.[\d]+)?%?/,n=/^\w+/,t=/%$/,y=h.fn.position;h.position={scrollbarWidth:function(){if(g!==k)return g;var a,c,b=h("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");
c=b.children()[0];h("body").append(b);a=c.offsetWidth;b.css("overflow","scroll");c=c.offsetWidth;a===c&&(c=b[0].clientWidth);b.remove();return g=a-c},getScrollInfo:function(a){var c=a.isWindow?"":a.element.css("overflow-x"),b=a.isWindow?"":a.element.css("overflow-y"),c="scroll"===c||"auto"===c&&a.width<a.element[0].scrollWidth;return{width:"scroll"===b||"auto"===b&&a.height<a.element[0].scrollHeight?h.position.scrollbarWidth():0,height:c?h.position.scrollbarWidth():0}},getWithinInfo:function(a){a=
h(a||r);var c=h.isWindow(a[0]);return{element:a,isWindow:c,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:c?a.width():a.outerWidth(),height:c?a.height():a.outerHeight()}}};h.fn.position=function(g){if(!g||!g.of)return y.apply(this,arguments);g=h.extend({},g);var k,t,z,r,E,D,A=h(g.of),H=h.position.getWithinInfo(g.within),J=h.position.getScrollInfo(H),K=(g.collision||"flip").split(" "),M={};D=e(A);A[0].preventDefault&&(g.at="left top");t=D.width;z=D.height;
r=D.offset;E=h.extend({},r);h.each(["my","at"],function(){var b=(g[this]||"").split(" "),d,e;1===b.length&&(b=a.test(b[0])?b.concat(["center"]):c.test(b[0])?["center"].concat(b):["center","center"]);b[0]=a.test(b[0])?b[0]:"center";b[1]=c.test(b[1])?b[1]:"center";d=p.exec(b[0]);e=p.exec(b[1]);M[this]=[d?d[0]:0,e?e[0]:0];g[this]=[n.exec(b[0])[0],n.exec(b[1])[0]]});1===K.length&&(K[1]=K[0]);"right"===g.at[0]?E.left+=t:"center"===g.at[0]&&(E.left+=t/2);"bottom"===g.at[1]?E.top+=z:"center"===g.at[1]&&
(E.top+=z/2);k=f(M.at,t,z);E.left+=k[0];E.top+=k[1];return this.each(function(){var a,c,e=h(this),p=e.outerWidth(),n=e.outerHeight(),u=parseInt(h.css(this,"marginLeft"),10)||0,y=parseInt(h.css(this,"marginTop"),10)||0,D=p+u+(parseInt(h.css(this,"marginRight"),10)||0)+J.width,gb=n+y+(parseInt(h.css(this,"marginBottom"),10)||0)+J.height,aa=h.extend({},E),ma=f(M.my,e.outerWidth(),e.outerHeight());"right"===g.my[0]?aa.left-=p:"center"===g.my[0]&&(aa.left-=p/2);"bottom"===g.my[1]?aa.top-=n:"center"===
g.my[1]&&(aa.top-=n/2);aa.left+=ma[0];aa.top+=ma[1];h.support.offsetFractions||(aa.left=b(aa.left),aa.top=b(aa.top));a={marginLeft:u,marginTop:y};h.each(["left","top"],function(c,b){if(h.ui.position[K[c]])h.ui.position[K[c]][b](aa,{targetWidth:t,targetHeight:z,elemWidth:p,elemHeight:n,collisionPosition:a,collisionWidth:D,collisionHeight:gb,offset:[k[0]+ma[0],k[1]+ma[1]],my:g.my,at:g.at,within:H,elem:e})});g.using&&(c=function(a){var c=r.left-aa.left,b=c+t-p,f=r.top-aa.top,h=f+z-n,k={target:{element:A,
left:r.left,top:r.top,width:t,height:z},element:{element:e,left:aa.left,top:aa.top,width:p,height:n},horizontal:0>b?"left":0<c?"right":"center",vertical:0>h?"top":0<f?"bottom":"middle"};t<p&&l(c+b)<t&&(k.horizontal="center");z<n&&l(f+h)<z&&(k.vertical="middle");d(l(c),l(b))>d(l(f),l(h))?k.important="horizontal":k.important="vertical";g.using.call(this,a,k)});e.offset(h.extend(aa,{using:c}))})};h.ui.position={fit:{left:function(a,c){var b=c.within,e=b.isWindow?b.scrollLeft:b.offset.left,f=b.width,
g=a.left-c.collisionPosition.marginLeft,b=e-g,h=g+c.collisionWidth-f-e;c.collisionWidth>f?0<b&&0>=h?(e=a.left+b+c.collisionWidth-f-e,a.left+=b-e):a.left=0<h&&0>=b?e:b>h?e+f-c.collisionWidth:e:a.left=0<b?a.left+b:0<h?a.left-h:d(a.left-g,a.left)},top:function(a,c){var b=c.within,e=b.isWindow?b.scrollTop:b.offset.top,f=c.within.height,g=a.top-c.collisionPosition.marginTop,b=e-g,h=g+c.collisionHeight-f-e;c.collisionHeight>f?0<b&&0>=h?(e=a.top+b+c.collisionHeight-f-e,a.top+=b-e):a.top=0<h&&0>=b?e:b>h?
e+f-c.collisionHeight:e:a.top=0<b?a.top+b:0<h?a.top-h:d(a.top-g,a.top)}},flip:{left:function(a,c){var b=c.within,d=b.offset.left+b.scrollLeft,e=b.width,f=b.isWindow?b.scrollLeft:b.offset.left,g=a.left-c.collisionPosition.marginLeft,b=g-f,h=g+c.collisionWidth-e-f,g="left"===c.my[0]?-c.elemWidth:"right"===c.my[0]?c.elemWidth:0,k="left"===c.at[0]?c.targetWidth:"right"===c.at[0]?-c.targetWidth:0,p=-2*c.offset[0];if(0>b){if(d=a.left+g+k+p+c.collisionWidth-e-d,0>d||d<l(b))a.left+=g+k+p}else 0<h&&(d=a.left-
c.collisionPosition.marginLeft+g+k+p-f,0<d||l(d)<h)&&(a.left+=g+k+p)},top:function(a,c){var b=c.within,d=b.offset.top+b.scrollTop,e=b.height,f=b.isWindow?b.scrollTop:b.offset.top,g=a.top-c.collisionPosition.marginTop,b=g-f,h=g+c.collisionHeight-e-f,g="top"===c.my[1]?-c.elemHeight:"bottom"===c.my[1]?c.elemHeight:0,k="top"===c.at[1]?c.targetHeight:"bottom"===c.at[1]?-c.targetHeight:0,p=-2*c.offset[1];0>b?(d=a.top+g+k+p+c.collisionHeight-e-d,a.top+g+k+p>b&&(0>d||d<l(b))&&(a.top+=g+k+p)):0<h&&(d=a.top-
c.collisionPosition.marginTop+g+k+p-f,a.top+g+k+p>h&&(0<d||l(d)<h)&&(a.top+=g+k+p))}},flipfit:{left:function(){h.ui.position.flip.left.apply(this,arguments);h.ui.position.fit.left.apply(this,arguments)},top:function(){h.ui.position.flip.top.apply(this,arguments);h.ui.position.fit.top.apply(this,arguments)}}};(function(){var a,c,b,d,e=document.getElementsByTagName("body")[0];b=document.createElement("div");a=document.createElement(e?"div":"body");c={visibility:"hidden",width:0,height:0,border:0,margin:0,
background:"none"};e&&h.extend(c,{position:"absolute",left:"-1000px",top:"-1000px"});for(d in c)a.style[d]=c[d];a.appendChild(b);c=e||document.documentElement;c.insertBefore(a,c.firstChild);b.style.cssText="position: absolute; left: 10.7432222px;";b=h(b).offset().left;h.support.offsetFractions=10<b&&11>b;a.innerHTML="";c.removeChild(a)})()})(l);return l})});
(function(n){var r=window.AmazonUIPageJS||window.P,A=r._namespace||r.attributeErrors,l=A?A("JQueryUI_Core_AUIBuild"):r;l.guardFatal?l.guardFatal(n)(l,window):l.execute(function(){n(l,window)})})(function(n,r,A){n.when("jQuery").register("jQueryUI-core",function(l){(function(h,k){function f(d,b){var a,c;a=d.nodeName.toLowerCase();if("area"===a){a=d.parentNode;c=a.name;if(!d.href||!c||"map"!==a.nodeName.toLowerCase())return!1;a=h("img[usemap=#"+c+"]")[0];return!!a&&e(a)}return(/input|select|textarea|button|object/.test(a)?
!d.disabled:"a"===a?d.href||b:b)&&e(d)}function e(d){return h.expr.filters.visible(d)&&!h(d).parents().addBack().filter(function(){return"hidden"===h.css(this,"visibility")}).length}var g=0,d=/^ui-id-\d+$/;h.ui=h.ui||{};h.extend(h.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,
TAB:9,UP:38}});h.fn.extend({focus:function(d){return function(b,a){return"number"===typeof b?this.each(function(){var c=this;setTimeout(function(){h(c).focus();a&&a.call(c)},b)}):d.apply(this,arguments)}}(h.fn.focus),scrollParent:function(){var d;d=h.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(h.css(this,"position"))&&/(auto|scroll)/.test(h.css(this,"overflow")+h.css(this,"overflow-y")+
h.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(h.css(this,"overflow")+h.css(this,"overflow-y")+h.css(this,"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!d.length?h(document):d},zIndex:function(d){if(d!==k)return this.css("zIndex",d);if(this.length){d=h(this[0]);for(var b;d.length&&d[0]!==document;){b=d.css("position");if("absolute"===b||"relative"===b||"fixed"===b)if(b=parseInt(d.css("zIndex"),10),!isNaN(b)&&0!==b)return b;d=d.parent()}}return 0},
uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++g)})},removeUniqueId:function(){return this.each(function(){d.test(this.id)&&h(this).removeAttr("id")})}});h.extend(h.expr[":"],{data:h.expr.createPseudo?h.expr.createPseudo(function(d){return function(b){return!!h.data(b,d)}}):function(d,b,a){return!!h.data(d,a[3])},focusable:function(d){return f(d,!isNaN(h.attr(d,"tabindex")))},tabbable:function(d){var b=h.attr(d,"tabindex"),a=isNaN(b);return(a||0<=b)&&f(d,!a)}});h("<a>").outerWidth(1).jquery||
h.each(["Width","Height"],function(d,b){function a(a,b,d,e){h.each(c,function(){b-=parseFloat(h.css(a,"padding"+this))||0;d&&(b-=parseFloat(h.css(a,"border"+this+"Width"))||0);e&&(b-=parseFloat(h.css(a,"margin"+this))||0)});return b}var c="Width"===b?["Left","Right"]:["Top","Bottom"],e=b.toLowerCase(),f={innerWidth:h.fn.innerWidth,innerHeight:h.fn.innerHeight,outerWidth:h.fn.outerWidth,outerHeight:h.fn.outerHeight};h.fn["inner"+b]=function(c){return c===k?f["inner"+b].call(this):this.each(function(){h(this).css(e,
a(this,c)+"px")})};h.fn["outer"+b]=function(c,d){return"number"!==typeof c?f["outer"+b].call(this,c):this.each(function(){h(this).css(e,a(this,c,!0,d)+"px")})}});h.fn.addBack||(h.fn.addBack=function(d){return this.add(null==d?this.prevObject:this.prevObject.filter(d))});h("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(h.fn.removeData=function(d){return function(b){return arguments.length?d.call(this,h.camelCase(b)):d.call(this)}}(h.fn.removeData));h.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());
h.support.selectstart="onselectstart"in document.createElement("div");h.fn.extend({disableSelection:function(){return this.bind((h.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(d){d.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});h.extend(h.ui,{plugin:{add:function(d,b,a){var c;d=h.ui[d].prototype;for(c in a)d.plugins[c]=d.plugins[c]||[],d.plugins[c].push([b,a[c]])},call:function(d,b,a){var c=d.plugins[b];if(c&&d.element[0].parentNode&&
11!==d.element[0].parentNode.nodeType)for(b=0;b<c.length;b++)d.options[c[b][0]]&&c[b][1].apply(d.element,a)}},hasScroll:function(d,b){if("hidden"===h(d).css("overflow"))return!1;var a=b&&"left"===b?"scrollLeft":"scrollTop",c=!1;if(0<d[a])return!0;d[a]=1;c=0<d[a];d[a]=0;return c}})})(l);return l})});
(function(n){var r=window.AmazonUIPageJS||window.P,A=r._namespace||r.attributeErrors,l=A?A("JQueryUI_Menu_AUIBuild"):r;l.guardFatal?l.guardFatal(n)(l,window):l.execute(function(){n(l,window)})})(function(n,r,A){n.when("jQueryUI-core","jQueryUI-position","jQueryUI-widget").register("jQueryUI-menu",function(l){(function(h,k){h.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",
blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,h.proxy(function(f){this.options.disabled&&f.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(f){f.preventDefault()},
"click .ui-state-disabled > a":function(f){f.preventDefault()},"click .ui-menu-item:has(a)":function(f){var e=h(f.target).closest(".ui-menu-item");!this.mouseHandled&&e.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(f),e.has(".ui-menu").length?this.expand(f):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(f){var e=h(f.currentTarget);e.siblings().children(".ui-state-active").removeClass("ui-state-active");
this.focus(f,e)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(f,e){var g=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(f,g)},blur:function(f){this._delay(function(){h.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(f)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(f){h(f.target).closest(".ui-menu").length||this.collapseAll(f);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var f=h(this);f.data("ui-menu-submenu-carat")&&f.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(f){function e(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")}var g,d,k,b,a=!0;switch(f.keyCode){case h.ui.keyCode.PAGE_UP:this.previousPage(f);break;case h.ui.keyCode.PAGE_DOWN:this.nextPage(f);break;case h.ui.keyCode.HOME:this._move("first","first",f);break;case h.ui.keyCode.END:this._move("last","last",f);break;case h.ui.keyCode.UP:this.previous(f);break;case h.ui.keyCode.DOWN:this.next(f);break;case h.ui.keyCode.LEFT:this.collapse(f);break;case h.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(f);break;case h.ui.keyCode.ENTER:case h.ui.keyCode.SPACE:this._activate(f);
break;case h.ui.keyCode.ESCAPE:this.collapse(f);break;default:a=!1,g=this.previousFilter||"",d=String.fromCharCode(f.keyCode),k=!1,clearTimeout(this.filterTimer),d===g?k=!0:d=g+d,b=new RegExp("^"+e(d),"i"),g=this.activeMenu.children(".ui-menu-item").filter(function(){return b.test(h(this).children("a").text())}),g=k&&-1!==g.index(this.active.next())?this.active.nextAll(".ui-menu-item"):g,g.length||(d=String.fromCharCode(f.keyCode),b=new RegExp("^"+e(d),"i"),g=this.activeMenu.children(".ui-menu-item").filter(function(){return b.test(h(this).children("a").text())})),
g.length?(this.focus(f,g),1<g.length?(this.previousFilter=d,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter):delete this.previousFilter}a&&f.preventDefault()},_activate:function(f){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(f):this.select(f))},refresh:function(){var f,e=this.options.icons.submenu;f=this.element.find(this.options.menus);f.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,
"aria-hidden":"true","aria-expanded":"false"}).each(function(){var f=h(this),d=f.prev("a"),k=h("<span>").addClass("ui-menu-icon ui-icon "+e).data("ui-menu-submenu-carat",!0);d.attr("aria-haspopup","true").prepend(k);f.attr("aria-labelledby",d.attr("id"))});f=f.add(this.element);f.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});f.children(":not(.ui-menu-item)").each(function(){var e=
h(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")});f.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!h.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(f,e){"icons"===f&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu);this._super(f,e)},focus:function(f,e){var g;this.blur(f,f&&
"focus"===f.type);this._scrollIntoView(e);this.active=e.first();g=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",g.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");f&&"keydown"===f.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);g=e.children(".ui-menu");g.length&&/^mouse/.test(f.type)&&this._startOpening(g);this.activeMenu=e.parent();this._trigger("focus",
f,{item:e})},_scrollIntoView:function(f){var e,g,d;this._hasScroll()&&(e=parseFloat(h.css(this.activeMenu[0],"borderTopWidth"))||0,g=parseFloat(h.css(this.activeMenu[0],"paddingTop"))||0,e=f.offset().top-this.activeMenu.offset().top-e-g,g=this.activeMenu.scrollTop(),d=this.activeMenu.height(),f=f.height(),0>e?this.activeMenu.scrollTop(g+e):e+f>d&&this.activeMenu.scrollTop(g+e-d+f))},blur:function(f,e){e||clearTimeout(this.timer);this.active&&(this.active.children("a").removeClass("ui-state-focus"),
this.active=null,this._trigger("blur",f,{item:this.active}))},_startOpening:function(f){clearTimeout(this.timer);"true"===f.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(f)},this.delay))},_open:function(f){var e=h.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(f.parents(".ui-menu")).hide().attr("aria-hidden","true");f.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(e)},collapseAll:function(f,
e){clearTimeout(this.timer);this.timer=this._delay(function(){var g=e?this.element:h(f&&f.target).closest(this.element.find(".ui-menu"));g.length||(g=this.element);this._close(g);this.blur(f);this.activeMenu=g},this.delay)},_close:function(f){f||(f=this.active?this.active.parent():this.element);f.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(f){var e=this.active&&this.active.parent().closest(".ui-menu-item",
this.element);e&&e.length&&(this._close(),this.focus(f,e))},expand:function(f){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(f,e)}))},next:function(f){this._move("next","first",f)},previous:function(f){this._move("prev","last",f)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},
_move:function(f,e,g){var d;this.active&&(d="first"===f||"last"===f?this.active["first"===f?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[f+"All"](".ui-menu-item").eq(0));d&&d.length&&this.active||(d=this.activeMenu.children(".ui-menu-item")[e]());this.focus(g,d)},nextPage:function(f){var e,g,d;this.active?this.isLastItem()||(this._hasScroll()?(g=this.active.offset().top,d=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){e=h(this);return 0>e.offset().top-g-d}),
this.focus(f,e)):this.focus(f,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(f)},previousPage:function(f){var e,g,d;this.active?this.isFirstItem()||(this._hasScroll()?(g=this.active.offset().top,d=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){e=h(this);return 0<e.offset().top-g+d}),this.focus(f,e)):this.focus(f,this.activeMenu.children(".ui-menu-item").first())):this.next(f)},_hasScroll:function(){return this.element.outerHeight()<
this.element.prop("scrollHeight")},select:function(f){this.active=this.active||h(f.target).closest(".ui-menu-item");var e={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(f,!0);this._trigger("select",f,e)}})})(l)})});
(function(n){var r=window.AmazonUIPageJS||window.P,A=r._namespace||r.attributeErrors,l=A?A("JQueryUI_Autocomplete_AUIBuild"):r;l.guardFatal?l.guardFatal(n)(l,window):l.execute(function(){n(l,window)})})(function(n,r,A){n.when("jQueryUI-core","jQueryUI-position","jQueryUI-widget","jQueryUI-menu").register("jQueryUI-autocomplete",function(l){(function(h,k){var f=0;h.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",
at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,f,d,k=this.element[0].nodeName.toLowerCase(),b="textarea"===k,k="input"===k;this.isMultiLine=b?!0:k?!1:this.element.prop("isContentEditable");this.valueMethod=this.element[b||k?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(a){if(this.element.prop("readOnly"))f=
d=e=!0;else{f=d=e=!1;var c=h.ui.keyCode;switch(a.keyCode){case c.PAGE_UP:e=!0;this._move("previousPage",a);break;case c.PAGE_DOWN:e=!0;this._move("nextPage",a);break;case c.UP:e=!0;this._keyEvent("previous",a);break;case c.DOWN:e=!0;this._keyEvent("next",a);break;case c.ENTER:case c.NUMPAD_ENTER:this.menu.active&&(e=!0,a.preventDefault(),this.menu.select(a));break;case c.TAB:this.menu.active&&this.menu.select(a);break;case c.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(a),
a.preventDefault());break;default:f=!0,this._searchTimeout(a)}}},keypress:function(a){if(e)e=!1,this.isMultiLine&&!this.menu.element.is(":visible")||a.preventDefault();else if(!f){var c=h.ui.keyCode;switch(a.keyCode){case c.PAGE_UP:this._move("previousPage",a);break;case c.PAGE_DOWN:this._move("nextPage",a);break;case c.UP:this._keyEvent("previous",a);break;case c.DOWN:this._keyEvent("next",a)}}},input:function(a){d?(d=!1,a.preventDefault()):this._searchTimeout(a)},focus:function(){this.selectedItem=
null;this.previous=this._value()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),this._change(a))}});this._initSource();this.menu=h("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(a){a.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var c=this.menu.element[0];h(a.target).closest(".ui-menu-item").length||
this._delay(function(){var a=this;this.document.one("mousedown",function(b){b.target===a.element[0]||b.target===c||h.contains(c,b.target)||a.close()})})},menufocus:function(a,c){if(this.isNewMenu&&(this.isNewMenu=!1,a.originalEvent&&/^mouse/.test(a.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){h(a.target).trigger(a.originalEvent)});return}var b=c.item.data("ui-autocomplete-item");!1!==this._trigger("focus",a,{item:b})?a.originalEvent&&/^key/.test(a.originalEvent.type)&&
this._value(b.value):this.liveRegion.text(b.value)},menuselect:function(a,c){var b=c.item.data("ui-autocomplete-item"),d=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d;this.selectedItem=b}));!1!==this._trigger("select",a,{item:b})&&this._value(b.value);this.term=this._value();this.close(a);this.selectedItem=b}});this.liveRegion=h("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);
this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(e,f){this._super(e,f);"source"===e&&this._initSource();"appendTo"===e&&this.menu.element.appendTo(this._appendTo());"disabled"===e&&f&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;
e&&(e=e.jquery||e.nodeType?h(e):this.document.find(e).eq(0));e||(e=this.element.closest(".ui-front"));e.length||(e=this.document[0].body);return e},_initSource:function(){var e,f,d=this;h.isArray(this.options.source)?(e=this.options.source,this.source=function(d,b){b(h.ui.autocomplete.filter(e,d.term))}):"string"===typeof this.options.source?(f=this.options.source,this.source=function(e,b){d.xhr&&d.xhr.abort();d.xhr=h.ajax({url:f,data:e,dataType:"json",success:function(a){b(a)},error:function(){b([])}})}):
this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,f){e=null!=e?e:this._value();this.term=this._value();if(e.length<this.options.minLength)return this.close(f);if(!1!==this._trigger("search",f))return this._search(e)},_search:function(e){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=
!1;this.source({term:e},this._response())},_response:function(){var e=this,g=++f;return function(d){g===f&&e.__response(d);e.pending--;e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e));this._trigger("response",null,{content:e});!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0;this._close(e)},_close:function(e){this.menu.element.is(":visible")&&
(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:h.map(e,function(e){return"string"===typeof e?{label:e,value:e}:h.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var f=this.menu.element.empty();this._renderMenu(f,e);this.isNewMenu=!0;this.menu.refresh();f.show();
this._resizeMenu();f.position(h.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,f){var d=this;h.each(f,function(f,b){d._renderItemData(e,b)})},_renderItemData:function(e,f){return this._renderItem(e,f).data("ui-autocomplete-item",f)},_renderItem:function(e,f){return h("<li>").append(h("<a>").text(f.label)).appendTo(e)},
_move:function(e,f){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e))this._value(this.term),this.menu.blur();else this.menu[e](f);else this.search(null,f)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,f){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(e,f),f.preventDefault()}});h.extend(h.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")},filter:function(e,f){var d=new RegExp(h.ui.autocomplete.escapeRegex(f),"i");return h.grep(e,function(e){return d.test(e.label||e.value||e)})}});h.widget("ui.autocomplete",h.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(1<e?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var f;this._superApply(arguments);this.options.disabled||this.cancelSearch||(f=e&&e.length?this.options.messages.results(e.length):
this.options.messages.noResults,this.liveRegion.text(f))}})})(l)})});
(function(n){var r=window.AmazonUIPageJS||window.P,A=r._namespace||r.attributeErrors,l=A?A("AuthenticationPortalAssets"):r;l.guardFatal?l.guardFatal(n)(l,window):l.execute(function(){n(l,window)})})(function(n,r,A){n.register("AmazonHelpPopup",function(){return function(l,h,k){r.open(l,h,k).focus();return!1}});n.when("A","ready").execute(function(l){l.$(".auth-autofocus").first().focus()});n.when("A","ready").execute(function(l){function h(){location.href=f.returnToAddress}
function k(){clearTimeout(e);e=setTimeout(h,g)}var f=l.state("timeout-parameters");if(f){var e=0,g=f.timeoutValue;document.onmousemove=k;document.onkeypress=k;document.ontouchstart=k;document.ontouchmove=k;document.ontouchend=k;k()}});n.when("A","auth-captcha-cf").register("auth-image-captcha",function(l){function h(d){d&&d.captchaImageUrl&&e.test(d.captchaImageUrl)?(f("#auth-captcha-image").attr("src",d.captchaImageUrl),f("input[type='hidden'][name='ces']").val(d.cesString)):(n.log("Failed to load new CAPTCHA due to invalid response from server",
"FATAL","auth-captcha"),r.location.reload(!0))}function k(){f("#auth-captcha-refresh-link").hide();f("#auth-captcha-noop-link").show();f("#auth-captcha-image").hide();f("#auth-captcha-image-container").addClass("a-lazy-loaded");var d=f("#auth-captcha-image").attr("data-refresh-url");d||n.log("Attempting to instantiate Captcha without a valid refresh url.","FATAL","auth-captcha");l.ajax(d,g)}var f=l.$,e=/^(http|https):\/\//,g={cache:!1,timeout:700,error:function(){n.log("Failed to refresh CAPTCHA due to error response from server",
"FATAL","auth-captcha");r.location.reload(!0)},success:h};f("#auth-captcha-image").load(function(){f("#auth-captcha-noop-link").hide();f("#auth-captcha-refresh-link").show();f("#auth-captcha-image-container").removeClass("a-lazy-loaded");f("#auth-captcha-image").fadeIn()});f(document).delegate("#auth-captcha-refresh-link","click",function(d){d.preventDefault();k();f("#auth-captcha-guess").focus()});return{handleSuccess:h,refresh:k}});n.when("A","auth-image-captcha","ready").register("auth-audio-captcha-handler",
function(l,h){function k(){y.val()!==A&&"true"===y.val()&&0!==w.length&&(d.play(),d.pause())}function f(a){a&&a.captchaImageUrl&&v.test(a.captchaImageUrl)?(m.val(a.cesString),u.attr("src",a.captchaImageUrl),p.attr("href",a.captchaImageUrl),d.load(),k()):(n.log("Failed to load new CAPTCHA due to invalid response from server","FATAL","auth-audio-captcha-handler"),r.location.reload(!0))}function e(){l.ajax(u.attr("data-refresh-url"),H);a.focus()}var g=l.$,d=g("#audio-captcha")[0],m=g("input[type='hidden'][name='ces']"),
b=g("#audio-captcha-section"),a=g("#auth-captcha-guess"),c=g("#image-captcha-section"),p=g("#auth-download-captcha-mp3"),u=g("#mp3-file"),t=g("#auth-switch-captcha-to-audio-container"),y=g("#use_audio_captcha"),B=g("#use_image_captcha"),w=g("#auth-error-message-box"),v=/^(http|https):\/\//,z=g(".a-mobile").length,C=g("#audio-captcha-options"),E=g("#image-captcha-options"),D=g("#image-captcha-placeholder"),F=g("#audio-captcha-placeholder"),H={cache:!1,timeout:700,error:function(){n.log("Failed to refresh CAPTCHA due to error response from server",
"FATAL","auth-audio-captcha-handler");r.location.reload(!0)},success:f};l.capabilities.audio&&t.show();k();return{switchCaptchaToAudio:function(){c.hide();B.val("false");b.show();y.val("true");a.val("");e();z&&(E.hide(),C.show(),a.attr("placeholder",F.val()))},switchCaptchaToImage:function(){b.hide();y.val("false");c.show();B.val("true");a.val("");d.pause();h.refresh();a.focus();z&&(E.show(),C.hide(),a.attr("placeholder",D.val()))},audioRefresh:e,handleSuccess:f}});n.when("A","auth-audio-captcha-handler",
"ready").register("auth-audio-captcha",function(l,h){var k=l.$;k("#auth-switch-captcha-to-audio").click(function(f){f.preventDefault();h.switchCaptchaToAudio()});k("#auth-switch-captcha-to-image").click(function(f){f.preventDefault();h.switchCaptchaToImage()});k("#auth-refresh-audio").click(function(f){f.preventDefault();h.audioRefresh()});return{handleSuccess:h.handleSuccess}});n.when("A","auth-validate-form-handler","client-side-counters-util","ready").register("auth-auto-phone-verification",
function(l,h,k){var f=l.$,e=f("#ap_register_form"),g=!1;f(".auth-support-auto-phone-verification").click(function(d){h.validate(e)&&(g?(k.incrementCounter("ContinueButtonClickedMoreThanOnce"),e.submit()):(k.incrementCounter("FirstTimeContinueButtonClicked"),d.preventDefault(),g=!0,r.handle_auto_pv=function(d){e.submit();d&&(d=l.parseJSON(d))&&(d=d.result)&&("grant"===d?k.incrementCounter("CustomerGrantsPermissionToAutoPhoneVerify"):"deny"===d&&k.incrementCounter("CustomerDeniesPermissionToAutoPhoneVerify"))},
r.embedNotification&&r.embedNotification.reqPerm&&"function"===typeof r.embedNotification.reqPerm?(r.embedNotification.reqPerm(JSON.stringify({action:"auto_phone_verification",callback:"handle_auto_pv"})),k.incrementCounter("CallMAPForAutoPVSuccess")):(k.incrementCounter("CallMAPForAutoPVFailure"),e.submit())))})});n.when("A").register("auth-cookie",function(l){function h(e,f,d){if(e){var h="";l.isFiniteNumber(d)&&(0>d?h="; expires=Thu, 01 Jan 1970 00:00:00 GMT":(h=new Date,h.setDate(h.getDate()+
d),h="; expires="+h.toGMTString()));document.cookie=e+"="+r.encodeURIComponent(f)+h;return!0}return!1}function k(e){if(0<document.cookie.length&&e){var f=document.cookie.indexOf(e+"=");if(-1<f)return f=f+e.length+1,e=document.cookie.indexOf(";",f),-1===e&&(e=document.cookie.length),r.decodeURIComponent(document.cookie.substring(f,e))}return""}function f(e){h(e,"",-1)}return{setCookie:h,getCookieValue:k,deleteCookie:f,checkCookieEnabled:function(e){h("amznTest","1");var g=k("amznTest");g?f("amznTest"):
e&&(e=document.getElementById(e))&&(e.style.display="block");return!!g}}});n.when("A","ready").register("auth-pv-resend-utility",function(l){return{successHandler:function(h,k){h.show();k.show()},errorHandler:function(h,k,f,e,g){403===h.http.status?r.location=k.sessionTimeoutUrl:(0<=(h.http.response||"").search("Throttled")?f.show():e.show(),g.show())},hideMessageBox:function(h,k,f,e,g){h.hide();k.hide();f.hide();e.hide();g.hide()}}});n.when("A","auth-pv-resend-utility","ready").register("auth-pv-resend",
function(l,h){var k=l.state("auth-pv-page-state");if(k){var f=l.$,e=f("#auth-pv-client-side-success-box"),g=f(".auth-pv-client-side-success-messages li"),d=f("#auth-pv-client-side-error-box"),m=f(".auth-pv-client-side-error-messages li"),b=f(".auth-server-side-message-box"),a=f("#auth-resend-code-succeeded"),c=f("#auth-there-was-an-error-throttled"),p=f("#auth-there-was-an-error"),n=function(){h.successHandler(a,e)},t=function(a){h.errorHandler(a,k,c,p,d)};f("#auth-resend-code-link").click(function(a){h.hideMessageBox(e,
g,d,m,b);l.ajax(k.resendUrl,{method:"post",success:n,error:t})});return{successHandler:n,errorHandler:t}}});n.when("A").register("auto-verification-timeout",function(l){var h=l.$,k=h("#auth-auto-verification-failed");k.length&&l.delay(function(){k[0].click()},3E4)});n.when("A","AmazonHelpPopup","ready").execute(function(l,h){l.$("#auth-amazon-help-link").click(function(){return h(this.href,"AmazonHelp","width=700,height=800,resizable=1,scrollbars=1,toolbar=1,status=1")})});n.when("A").execute(function(l){l.declarative("auth-popup",
"click",function(h){var k=h.data;h=h.$target.closest("a")[0];(k=r.open(h.href,h.target,k.windowOptions))&&k.focus()})});n.when("auth-cookie","ready").execute(function(l){l.checkCookieEnabled("auth-cookie-warning-message")});n.when("A","ready").register("AuthToolkit",function(l){function h(g){"undefined"!==typeof e(g)&&e(g).hasClass("a-button-disabled")&&(e(g).removeClass("a-button-disabled"),f(g).attr("disabled",!1))}function k(g,d){var m=f(g),b=m.data("remaining"),a=m.data("unit");0===b?(h(g),e(g).find(".a-button-text").text(d),
l.trigger("AuthToolkit.countDownEnd",g)):0<b&&(m.data("remaining",b-1),e(g).find(".a-button-text").text(a.replace(/%d/,b)),l.delay(function(){k(g,d)},1E3))}function f(f){var d=e(f).find("button");return 0<d.length?d:e(f).find("input")}var e=l.$;return{disableButton:function(g){"undefined"===typeof e(g)||e(g).hasClass("a-button-disabled")||(e(g).addClass("a-button-disabled"),f(g).attr("disabled","disabled"))},enableButton:h,countingDown:function(g){if("undefined"!==typeof e(g)){var d=e(g).find(".a-button-text").text();
0<=f(g).data("remaining")&&k(g,d)}}}});n.when("A","ready").execute(function(l){var h=l.$("#auth-external-javascript").data("external-javascripts");h&&h.length&&l.each(h,function(h){n.load.js(h)})});n.when("A","a-modal","auth-validate-form-handler","ready").register("auth-phone-verification-modal",function(l,h,k){function f(){var b=m.val();p.text(b);var e=d.find("option:selected"),b=e.data("calling-code"),e=e.data("country-code");a.text(b);c.text(e)}var e=l.$,g=l.state("auth-phone-verification-modal");
if(g){var d=e("#auth-country-picker"),m=e("#ap_phone_number"),b=e("#"+g.formIdToBindTo),a=e("#auth-verify-mobile-calling-code"),c=e("#auth-verify-mobile-country-code"),p=e("#auth-verify-mobile-national-number");l.on("a:popover:beforeShow:verifyContinueModal",f);e(".auth-requires-verify-modal").click(function(a){a.preventDefault();k.validate(b)&&(a=e("#auth-verify-modal-action"),(a=h.get(a))&&m.is(":enabled")?a.show():b.submit())});l.declarative("auth-verify-modal-complete","click",function(){b.submit()});
return{updateVerificationModalContents:f}}});n.when("A","auth-validate-form-common","a-form-controls-api","client-side-counters-util","page-util","ready").register("auth-moa",function(l,h,k,f,e){var g=l.$,d=g("#ap_phone_number"),m=g("#ap_email");g("#ap_use_mobile, #ap_use_email").click(function(b){g(".ap_email_fields,.ap_mobile_number_fields").toggle();g("#auth-country-picker, #ap_email, #ap_phone_number").prop("disabled",function(a,c){return!c});g("#auth-country-picker-container").toggleClass("a-button-disabled");
e.isMobile()?g("#ap_email, #ap_phone_number").parent(".a-input-text-wrapper").toggleClass("a-form-disabled"):g("#ap_email, #ap_phone_number").toggleClass("a-form-disabled");return!1});g("#ap_use_email").click(function(){h.isNonBlankField(d)&&h.isValidEmailField(d)&&(m.val(d.val()).keyup(),f.incrementCounter("PersistEmailFromPhoneToEmail"+e.determineDeviceType()))});g("#ap_use_mobile").click(function(){h.isNonBlankField(m)&&h.isValidPhoneNumberField(m)&&(d.val(m.val()).keyup(),f.incrementCounter("PersistPhoneFromEmailToPhone"+
e.determineDeviceType()))})});n.when("A","page-util","ready").register("auth-validate-form-common",function(l,h){function k(a){return a.data("validation-id")||a.parent().data("validation-id")||a[0].name}function f(a){var b=a.closest(".a-input-text-wrapper");0<b.length?b.addClass("a-form-error"):a.addClass("a-form-error")}function e(a){var b=a.closest(".a-input-text-wrapper");0<b.length?b.removeClass("a-form-error"):a.removeClass("a-form-error")}var g=l.$,d=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,
m=/^ *\+|[a-zA-Z]/,b=/[a-zA-Z]/,a={"auth-required-field":"-missing-alert","auth-require-email-validaton":"-invalid-email-alert","auth-require-phone-validation":"-invalid-phone-alert","auth-require-claim-validation":"-invalid-claim-alert","auth-require-password-validation":"-invalid-password-alert","auth-require-fields-match":"-mismatch-alert"};return{isMatchingFields:function(a){var b=a.eq(0);a=a.eq(1);b=b.val().trim();a=a.val().trim();return b===a},isValidEmailField:function(a){a=a.val();return d.test(a.trim())},
isValidPhoneNumberField:function(a){a=a.val();return!m.test(a.trim())},isValidClaimField:function(a){a=a.val();return d.test(a.trim())||!b.test(a.trim())},isValidPasswordField:function(a){return 6<=a.val().length},isNonEmptyField:function(a){return!!a.val()},isNonBlankField:function(a){return!!a.val().trim()},displayErrorMessage:function(a,b){var d=k(a),d=g("#auth-"+d+b);f(a);d.show()},hideErrorMessage:function(a,b){var d=k(a),d=g("#auth-"+d+b);e(a);d.hide()},isErrorVisible:function(c,b){var d=k(c);
return g("#auth-"+d+a[b]).is(":visible")},getValidationId:k,addErrorClass:f,removeErrorClass:e,determineDeviceType:function(){return h.isMobile()?"OnMobile":"OnDesktop"},getErrorAlertExtension:function(c){return a[c]},getSelectorForInputsOfErrorTypeClass:function(a){if(a)return a+=":visible","input:enabled."+a+", ."+a+" input:enabled"}}});n.when("A","auth-validate-form-common","client-side-counters-util","page-util","ready").register("auth-validate-form-handler",function(l,h,k,f){function e(a,
c,b,d){var e=h.getValidationId(c);e&&(w||(w={}),w[e]||(w[e]=[]),w[e].push({$field:c,type:b,extension:d}),d&&k.incrementCounter(f.getFormName(a)+f.toCamelCase(e+d)+h.determineDeviceType()))}function g(a){a.find(".auth-require-fields-match-group").each(function(){var c=t(this).find(h.getSelectorForInputsOfErrorTypeClass("auth-require-fields-match"));1<c.length&&p(c.eq(0))&&p(c.eq(1))&&!h.isMatchingFields(c)&&(e(a,c.eq(0),"Check Mismatch","-mismatch-alert"),e(a,c.eq(1),"Check Mismatch"))})}function d(a){a.find(h.getSelectorForInputsOfErrorTypeClass("auth-require-email-validaton")).each(function(){var c=
t(this);h.isNonBlankField(c)&&!h.isValidEmailField(c)&&e(a,c,"Invalid Email","-invalid-email-alert")})}function m(a){a.find(h.getSelectorForInputsOfErrorTypeClass("auth-require-claim-validation")).each(function(){var c=t(this);h.isNonBlankField(c)&&!h.isValidClaimField(c)&&e(a,c,"Invalid Claim","-invalid-claim-alert")})}function b(a){a.find(h.getSelectorForInputsOfErrorTypeClass("auth-require-phone-validation")).each(function(){var c=t(this);h.isNonBlankField(c)&&!h.isValidPhoneNumberField(c)&&e(a,
c,"Invalid Phone","-invalid-phone-alert")})}function a(a){a.find(h.getSelectorForInputsOfErrorTypeClass("auth-require-password-validation")).each(function(){var c=t(this);h.isNonEmptyField(c)&&!h.isValidPasswordField(c)&&e(a,c,"Invalid Password","-invalid-password-alert")})}function c(a){a.find(h.getSelectorForInputsOfErrorTypeClass("auth-required-field")).each(function(){var c=t(this),b=this.name;p(c)||y.test(b)&&w&&w[b.split("Check")[0]]||e(a,c,"Missing Required","-missing-alert")})}function p(a){return"password"===
a.attr("type")?h.isNonEmptyField(a):h.isNonBlankField(a)}function n(a){var c=t("#auth-alert-window");a.find(".a-form-error").removeClass("a-form-error");t(".auth-error-messages li, .auth-inlined-error-message, .auth-server-side-message-box").hide();w?(l.each(w,function(a,c){l.each(a,function(a){var b=a.extension;h.addErrorClass(a.$field);b&&(a="#auth-"+c+b,b=t(a+B),b.length?b.show():t(a).show())})}),t("#message-box-slot").hide(),c.show(),a.find(".a-form-error").first().focus()):c.hide()}var t=l.$,
y=/Check$/g,B="",w;return{validate:function(e){e=e&&e.jquery?e:t(e);if(e.length&&e.is("form")){B=e.hasClass("ap_ango_phone")?"-ango-phone":e.hasClass("ap_ango_email")?"-ango-email":"";c(e);m(e);d(e);b(e);a(e);g(e);w&&k.incrementCounter(f.getFormName(e)+"PreventedServerRoundTrips"+h.determineDeviceType());n(e);var l=!w;e.data("auth-validation-errors",w);w=void 0;return l}},getErrors:function(a){return(a.jquery?a:t(a)).data("auth-validation-errors")}}});n.when("A","auth-validate-form-handler",
"ready").register("auth-validate-form-moa",function(l,h){var k=l.$;k(document.body).delegate(".auth-validate-form-moa","submit",function(f){h.validate(this)||f.preventDefault()})});n.when("A","auth-validate-form-handler","auth-validate-form-common","client-side-counters-util","page-util","ready").register("auth-validate-form",function(l,h,k,f,e){l=l.$;l(document.body).delegate(".auth-validate-form","submit",function(g){f.incrementCounter(e.getFormName(this)+"Submit"+k.determineDeviceType());h.validate(this)||
g.preventDefault()})});n.when("A","auth-validate-form-common","ready").register("auth-validate-form-real-time",function(l,h){function k(d,e,b){h.isErrorVisible(d,e)&&b(d)&&h.hideErrorMessage(d,h.getErrorAlertExtension(e))}function f(d,e){if(d.hasClass("auth-require-fields-match")){var b=d.closest(".auth-require-fields-match-group");if(b!==g&&(b=b.find(h.getSelectorForInputsOfErrorTypeClass("auth-require-fields-match")),2===b.length)){var a=b.eq(0),c=b.eq(1);h.isErrorVisible(a,"auth-require-fields-match")&&
e(b)&&(h.hideErrorMessage(a,h.getErrorAlertExtension("auth-require-fields-match")),h.removeErrorClass(c))}}}var e=l.$,g;e(".auth-real-time-validation input").bind("keyup.clearValidationErrors",function(){var d=e(this);k(d,"auth-required-field",h.isNonEmptyField);k(d,"auth-require-email-validaton",h.isValidEmailField);k(d,"auth-require-phone-validation",h.isValidPhoneNumberField);k(d,"auth-require-claim-validation",h.isValidClaimField);k(d,"auth-require-password-validation",h.isValidPasswordField);
f(d,h.isMatchingFields)});return{clearErrorMessageOnMatchingInputs:f}});n.when("A","AuthToolkit","ready").register("auth-3p-phone-verification",function(l,h){var k=l.$,f=k("#auth-pv-enter-code");h.countingDown("#ap-3p-get-pin-code-button");l.on("AuthToolkit.countDownEnd",function(e){"#ap-3p-get-pin-code-button"===e&&(k("#auth-phone-number").removeClass("a-form-disabled"),k("#auth-phone-number-wrapper").removeClass("a-form-disabled"),k("#auth-phone-number").attr("disabled",!1))});f.bind("change paste keyup",
function(){0<k(this).val().length?h.enableButton("#ap-3p-pv-create-account"):h.disableButton("#ap-3p-pv-create-account")});k("#auth-verify-button").click(function(){var e=k("#auth-3p-pv-form");e.find("#insisted").val("false");e.find("#getPinCodeAction").val("true");e.submit()});k("#ap-3p-insist-verify-link").click(function(){var e=k("#auth-3p-pv-form");e.find("#auth-country-picker").val(k("#ap-3p-insist-verify-link").attr("countrycode"));e.find("#auth-phone-number").val(k("#ap-3p-insist-verify-link").attr("phonenumber"));
e.find("#insisted").val("true");e.submit()})});n.when("A","a-modal","ready").register("ap-3p-pv-modal",function(l,h){var k=l.$,f=l.state("ap-3p-pv-modal");if(f){var e=f.thirdPartyPhoneConflict;if(e&&"None"!==e.toString()){var g=k("#"+f.formIdToBindTo),k=k("#ap-3p-pv-modal-action");(k=h.get(k))&&e&&"None"!==e.toString()&&k.show();l.declarative("ap-3p-pv-modal-complete","click",function(){e&&"WeChat"===e.toString()&&(g.find("#insisted").val("true"),g.submit())})}}});n.when("A","a-modal",
"ready").register("ap-3p-account-connected-modal",function(l,h){var k=l.$,f=l.state("ap-3p-account-connected-modal");f&&f.thirdPartyAccountStatus&&"rejectWithLoginIdIfConnected"===f.thirdPartyAccountStatus&&(k=k("#ap-3p-account-connected-modal-action"),(k=h.get(k))&&k.show())});n.when("A").execute(function(l){function h(f){var e=l.state("moa_registration_v2_info");e&&e.enabled&&l.get("/ap/nocontent/ref="+f+"_"+e.device,{})}var k=l.$;k("#ap_use_email").click(function(){h("ap_mmoar_usee")});
k("#ap_use_mobile").click(function(){h("ap_mmoar_usem")});k("#auth-country-picker-container").click(function(){h("ap_mmoar_ccp")});k("#continue").click(function(){h("ap_mmoar_cont")});l.on("a:popover:show:verifyContinueModal",function(){h("ap_mmoar_vm_o")});l.on("a:popover:hide:verifyContinueModal",function(){h("ap_mmoar_vm_c")});k("#auth-verification-ok-announce").click(function(){h("ap_mmoar_vm_ok")});k("#auth-already-have-account").click(function(){h("ap_mmoar_signin")});k("#auth-verify-button").click(function(){h("ap_mmoar_pv_verify")});
k("#auth-resend-code-link").click(function(){h("ap_mmoar_pv_resend")})});n.when("A","jQuery","ready").register("wechat-wxlogin-js",function(l,h){if(0<h("#auth-wechat-login-container").length){var k=h("#auth-wechat-login-container").data("wechatUrl");n.load.js(k)}});n.when("A","jQuery","client-side-counters-util","wechat-login-button-counter","wechat-wxlogin-js","ready").register("wechat-qrcode-module",function(l,h,k,f){if(0<h("#auth-wechat-login-container").length){var e=function(){var d=
h("div#auth-interactive-dialog-content"),e=h("div#auth-wechat-qrcode-loading-container").clone();e.removeClass("hidden");e.appendTo(d);h("div#auth-interactive-dialog").css("display","table");var b=h("#auth-wechat-login-container"),d=b.data("appid"),e=b.data("scope"),a=b.data("redirectUrl"),c=b.data("state"),b=b.data("style");new r.WxLogin({id:"auth-wechat-qrcode-container",appid:d,scope:e,redirect_uri:a,state:c,style:b})},g=function(){var d=h("div#auth-interactive-dialog-content");h("div#auth-interactive-dialog").css("display",
"none");d.empty()};h("div#auth-interactive-dialog-content").click(function(d){d.stopImmediatePropagation()});h("#auth-wechat-login-container").click(function(){k.incrementCounter(f.weChatButtonClickEventCounterName);e()});h("div#auth-interactive-dialog-container").click(function(){g()});return{showWeChatQRCode:e,hideWeChatQRCode:g}}});n.when("A","client-side-counters-util","counters-name","ready").register("wechat-login-button-counter",function(l,h,k){var f=k.getCommonCounterNamePrefix()+":WeChat";
k=l.$("#auth-wechat-login-container-noninteractive");0<k.length&&k.click(function(){h.incrementCounter(f)});l=l.$("a#signInSubmit.wechat_button");0<l.length&&l.click(function(){h.incrementCounter(f)});return{weChatButtonClickEventCounterName:f}});n.when("A").register("wechat",function(l){function h(e,d){return k.ajax({url:"https://res.wx.qq.com/connect/zh_CN/htmledition/js/wxLogin.js",dataType:"script",success:e,error:d,cache:!0})}var k=l.$,f=!1,e=null;return{WxLogin:function(g,d){d&&
k.isFunction(d)||(d=function(){});f?d(new e(g)):h(function(){f=!0;e=r.WxLogin;d(new e(g));k("#identity-provider-pagelet-wechat-gray-block").fadeOut()},function(){d()})}}});n.when("A","wechat","ready").execute(function(l,h){var k=l.$,k=k("#auth-identity-provider-wechat-qrcode-container");0!==k.length&&(h.WxLogin({id:"auth-identity-provider-wechat-qrcode-container",appid:k.data("appid"),scope:k.data("scope"),redirect_uri:k.data("redirect-uri"),state:k.data("state"),style:k.data("style")}),setTimeout(function(){r.location.reload()},
9E5))});n.when("A","auth-form-field-utils","cvf","client-side-counters-util","ready").register("auth-contact-verification-handler",function(l,h,k,f){function e(e){var b=this;e=e||{};this.postVerificationSuccessCallback=e.postVerificationSuccessCallback||d.noop;this.$verificationForm=d("form.auth-contact-verification-form");this.$contactVerificationWidgetTarget=d(".auth-contact-verification-widget-target").first();this.$claimToken=this.$verificationForm.find('input[type="hidden"].auth-contact-verification-claim-token');
this.$verifyContactButton=this.$verificationForm.find(".auth-contact-verification-button");this.contactVerificationEndpoint=this.$verificationForm.attr("action");this.postVerificationFormAction=this.$verificationForm.data("post-verification-action");this.$verificationTarget=this.$verificationForm.find(".auth-contact-verification-target");this.$spinnerTarget=this.$verificationForm.find(".auth-contact-verification-spinner");this.$successMessage=this.$verificationForm.find(".auth-contact-verification-success-message");
this.preVerify="preVerify";this.pendingVerify="pendingVerify";this.verifyState=b.preVerify;this.formSubmitEvent="submit.contactVerification";this.$reverifyOnChangeTarget=d(".auth-require-reverify-on-change, .auth-require-reverify-on-change :input");this.verificationFlowCompleteTime=this.verifyRequestCompleteTime=this.verificationFlowStartTime=0;this.disableTargetLabelCssClass="a-color-tertiary";this.errorCodes="&errorCodes=";this.internalError="INTERNAL_ERROR";this.ajax=function(a,c){l.ajax(a,c)};
this.startContactVerification=function(){b.verificationFlowStartTime=(new Date).getTime();b.ajax(b.contactVerificationEndpoint,{method:"post",cache:!1,params:g(b.$verificationForm),error:b.startContactVerificationError,success:b.initializeComposableVerificationWidget})};this.startContactVerificationError=function(a,c,d){n.log("Error contacting contact verification endpoint: "+d+". Customers will not be able to verify their contact information.","INFO");f.incrementCounter("contactVerificationAjaxFailureContactVerificationInit");
r.location.href=r.location.href+b.errorCodes+b.internalError};this.cvfWidgetFactory=k;this.initializeComposableVerificationWidget=function(a){a=a||{};a.location?r.location.href=a.location:(a=a.requestToken||"",b.verifyRequestCompleteTime=(new Date).getTime(),a={target:b.$contactVerificationWidgetTarget,requestToken:a,onSuccess:b.completeContactVerification,onError:b.widgetInitializationError,autoStart:!1},b.$spinnerTarget&&(a.spinnerTarget=b.$spinnerTarget),b.cvfWidgetFactory.create(a).start())};
this.widgetInitializationError=function(a,c,d){n.log("Error initializing verification widget: "+d+". Customers will not be able to verify their contact information.","INFO");f.incrementCounter("contactVerificationAjaxFailureWidgetInit");r.location.href=r.location.href+b.errorCodes+b.internalError};this.setClaimToken=function(a){b.$claimToken.val(a)};this.completeContactVerification=function(a,c){b.verificationFlowCompleteTime=(new Date).getTime();c?(b.setClaimToken(a),b.setPostVerificationAction(),
b.$successMessage.show(),b.$verificationForm.unbind(b.formSubmitEvent),b.$verificationTarget.each(function(){h.enableInput(d(this));var a=d("label[for='"+d(this).attr("id")+"']");a.length&&a.removeClass(b.disableTargetLabelCssClass)}),f.insertCounter("contactVerificationCompleteVerificationFlowCompleteTime",b.verificationFlowCompleteTime-b.verificationFlowStartTime),f.insertCounter("contactVerificationVerifyRequestCompleteTime",b.verifyRequestCompleteTime-b.verificationFlowStartTime),d.isFunction(b.postVerificationSuccessCallback)&&
b.postVerificationSuccessCallback()):r.location.href=r.location.href+b.errorCodes+b.internalError};this.setPostVerificationAction=function(){b.$verificationForm.prop("action",b.postVerificationFormAction)};this.verificationRequestHandler=function(a){a.preventDefault();b.$spinnerTarget&&b.$spinnerTarget.show();b.verifyState=b.pendingVerify;b.$verifyContactButton.hide();b.startContactVerification()};this.bindVerificationFormEvent=function(){b.$verificationForm.bind(b.formSubmitEvent,b.verificationRequestHandler)};
b.bindVerificationFormEvent();this.unbindVerificationFormEvent=function(){b.$verificationForm.unbind(b.formSubmitEvent)};this.safeBind=function(){b.unbindVerificationFormEvent();b.bindVerificationFormEvent()};this.resetContactVerificationOnRequestInfoChange=function(){b.$reverifyOnChangeTarget.bind("keyup",function(a){a.preventDefault();a=13===a.keyCode;b.verifyState===b.preVerify||a||(l.trigger("cvf:claim:changed"),b.verifyState=b.preVerify,b.reVerifyEmail());b.$claimToken.val()&&b.safeBind()})};
b.resetContactVerificationOnRequestInfoChange();this.reVerifyEmail=function(){b.$contactVerificationWidgetTarget.empty();b.$verifyContactButton.show();b.$successMessage.hide();b.disableVerificationTarget();b.$verificationForm.prop("action",b.contactVerificationEndpoint)};this.disableVerificationTarget=function(){b.$verificationTarget.each(function(){h.disableInput(d(this));var a=d("label[for='"+d(this).attr("id")+"']");a.length&&a.addClass(b.disableTargetLabelCssClass)})}}function g(d){d=d.find("input.auth-contact-verification-request-info, input[type=hidden]");
return h.inputsToJson(d)}var d=l.$;return{create:function(d){f.incrementCounter("contactVerificationCVFCreate");return new e(d)},ContactVerificationHandler:e}});n.when("auth-contact-verification-handler","ready").register("auth-contact-verification-autostart",function(l){return l.create()});n.when("A").register("auth-form-field-utils",function(l){function h(d){d.prop("disabled",!1);d.removeClass("a-form-disabled");d.find("input").prop("disabled",!1)}function k(d){d.removeClass("a-button-disabled");
d.find("input").prop("disabled",!1)}function f(d){d.prop("disabled",!0);d.addClass("a-form-disabled");d.find("input").prop("disabled",!0)}function e(d){d.addClass("a-button-disabled");d.find("input").prop("disabled",!0)}var g=l.$;return{enableTextInput:h,enableButton:k,enableInput:function(d){0<d.closest(".a-button").length?k(d):(d.hasClass("a-input-text")||d.hasClass("a-input-text-wrapper"))&&h(d)},disableTextInput:f,disableButton:e,disableInput:function(d){0<d.closest(".a-button").length?e(d):(d.hasClass("a-input-text")||
d.hasClass("a-input-text-wrapper"))&&f(d)},inputsToJson:function(d){return d.map(function(){var d=g(this);if(d.is("input")){var b={};b[d.attr("name")]=d.val();return b}}).toArray().reduce(function(d,b){return g.extend(d,b)})}}});n.when("page-util").register("client-side-counters-util",function(l){function h(h,f){var e=r.ue;e&&"function"===typeof e.count&&(f||(f=(e.count(h)||0)+1),e.count(h,f))}return{incrementCounter:function(k){h(k)},insertCounter:h,getCounterNameWithDeviceAndPageType:function(h){return h+
l.determineDeviceType()+l.determinePageType()}}});n.when("A","AuthToolkit","auth-pv-resend-utility","ready").register("auth-cnep-add-password",function(l,h,k){var f=l.$;if(!(1>f("#ap-cnep-add-password-resend-code-button").length)){h.countingDown("#ap-cnep-add-password-resend-code-button");var e=l.state("auth-cnep-add-password-resend-state");if(e){var g=f("#auth-cnep-add-password-client-side-success-box"),d=f(".auth-pv-client-side-success-messages li"),m=f("#auth-cnep-add-password-client-side-error-box"),
b=f(".auth-pv-client-side-error-messages li"),a=f(".auth-server-side-message-box"),c=f("#auth-resend-code-succeeded"),p=f("#auth-there-was-an-error-throttled"),n=f("#auth-there-was-an-error");e.sessionTimeoutUrl=e.cnepUrl;var t=function(){k.successHandler(c,g)},y=function(a){k.errorHandler(a,e,p,n,m)};f("#ap-cnep-add-password-resend-code-button").click(function(){"#ap-cnep-add-password-resend-code-button".isDisabled||(k.hideMessageBox(g,d,m,b,a),l.ajax(e.resendPinCodeUrl,{method:"post",success:t,
error:y}),"undefined"===typeof f("#ap-cnep-add-password-resend-code-button")||f("#ap-cnep-add-password-resend-code-button").hasClass("a-button-disabled")||(f("#ap-cnep-add-password-resend-code-button").addClass("a-button-disabled"),f("#ap-cnep-add-password-resend-code-button").find(".a-button-text").attr("disabled","disabled")),f("#ap-cnep-add-password-resend-code-button").find(".a-button-text").data("remaining",e.originalRemaining),h.countingDown("#ap-cnep-add-password-resend-code-button"))})}}});
n.when("A","ready").register("counters-name",function(l){return{getCommonCounterNamePrefix:function(){var h="unknown",k=r.location.pathname.split("/");0<k.length&&(h=k[k.length-1]);var k="",f=l.state("auth-csm-page-state");f&&(k=f.assocHandle);return["AuthenticationPortal",h,k].join(":")}}});n.when("A").register("page-util",function(l){function h(f){f.jquery||e(f);return k(e("form:visible").attr("name"))}function k(e){if(e)return e.replace(/(?:-| |\b)(\w)/g,function(d,e){return e.toUpperCase()})}
function f(){return e("html").hasClass("a-mobile")}var e=l.$;return{getFormName:h,toCamelCase:k,determinePageType:function(){for(var e={SignIn:"SignInPage",Register:"RegistrationPage",ForgotPassword:"Fpp"},d=document.getElementsByTagName("form"),f=0;f<d.length;f++){var b=h(d[f]);if(b in e)return e[b]}},determineDeviceType:function(){return f()?"OnMobile":"OnDesktop"},isMobile:f}});n.when("A","auth-validate-form-handler","a-carousel-framework","a-button","ready").register("auth-streamlined",
function(l,h,k,f){function e(a){var c=t(a.selector);a=a.index;c.show();t("body").data("index",a);y.gotoPage(a);l.trigger("passwordFieldShown")}function g(a,c,b){[c].forEach(function(c){t("#auth-change-"+c+"-claim-section").show();t("#"+c+"-claim-desc").text(a.claimDesc);t("#"+c+"-claim-show").text(a.claim);t("#"+c+"-claim").val(a.claim);t("#auth-change-"+c+"-claim").data("change-goes-to",b)})}function d(){"verified"!==t("body").data("verified")&&(t("#start-cvf").click(),t(".pre-cvf").show(),t(".post-cvf").hide());
return!0}function m(a){t("#auth-alert-window").show();switch(a){case "email":t("#auth-email-invalid-alert").show();break;case "mobile":t("#auth-mobile-invalid-alert").show();break;case "unknown":t("#auth-claim-invalid-alert").show();break;default:t("#auth-claim-invalid-alert").show()}}function b(){t("#auth-alert-window").hide();t(".a-form-error").each(function(a,c){t(this).removeClass("a-form-error")})}function a(a,c){b();t(".auth-contact-verification-widget-target").html("");t("body").data("index",
c);y.gotoPage(c);t(".ap-post-claim-collection-form").show();l.trigger("passwordFieldHidden")}function c(a,c){var d=t("#ap-collect-"+a+"-claim");d.submit(function(e){b();if(h.validate(d)){var f=t("#ap-"+a+"-claim");e=f.val();f=f.data("claimTypeToEnforce");l.ajax("/ap/dae",{method:"get",params:{email:e,claimType:f},success:function(a){c(a)},error:function(){m()}});return!1}})}var p=l.state("auth-spa-page-state"),n=!1;p&&(n=p.isSinglePageAuth);var t=l.$,y=k.getCarouselByName("ap_carousel"),B="undefined"!==
typeof history.pushState,w={collectFirstClaim:{index:1,selector:"#ap-first-claim-collection"},collectSecondClaim:{index:2,selector:"#ap-second-claim-collection"},signin:{index:3,selector:"#ap-password-challenge"},register:{index:4,selector:"#ap-register-mobile-form"},altClaim:{index:5,selector:"#ap-alt-claim-form"}};t(".auth-clear-icon-container").click(function(){var a="#"+t(this).children().data("clear-field-id");t(a).val("");t(this).attr("style","display: none !important");t(a).focus()});t(".auth-clearable-field").keyup(function(){var a=
t(this).data("clear-icon-container-id"),a=t("#"+a),c=t(this).val();0<c.length?a.attr("style","display: table-cell !important"):0===c.length&&a.attr("style","display: none !important")});t("#ap-collect-claim-skip").click(function(a){a.preventDefault();a=t("body").data("mobile-claim");a!==A&&(t(".mobile-claim").val(a.claim),g(a,"mobile",1));d();e(w.register);return!1});r.onhashchange=function(){n&&(""!==location.hash&&"#back"!==location.hash||a(t(".ap-post-claim-collection-form:visible"),1))};t(".ap-change").click(function(c){a(t(this).closest(".ap-post-claim-collection-form"),
t(this).data("change-goes-to"));return!1});l.on("cvf:claim:changed",function(){t(".post-cvf").hide();t(".pre-cvf").show();t("body").data("verified","")});l.on("cvf:verification:complete",function(a){n&&(a?(l.trigger("passwordFieldShown"),t(".post-cvf").show(),t(".pre-cvf").hide(),t("body").data("verified","verified"),a=t("body").data("mobile-claim"),t(".verified-claim-desc").text(a.claimDesc),t(".verified-claim-show").text(a.claim)):(t("#auth-alert-window").show(),t("#auth-throttled").show()))});
l.on("a:carousel:ap_carousel:change:pageNumber",function(a){a.newValue!==t("body").data("index")&&(t("body").data("index",a.oldValue),y.gotoPage(a.oldValue))});l.on("credentialsEntered",function(){n&&(t("#signInSubmit").click(),f("#ap-collect-claim-continue").disable(),t("#auth-claim-row").remove(),t("#auth-disabled-claim-row").show(),t("#auth-attempting-automatic-signin").show())});t("#ap-signin-form").submit(function(a){if(!h.validate(t("#ap-signin-form")))return!1;a=t("body").data("alternate-claim-desired");
if(a!==A&&0!==a.length)return!0;b();if(0===t("[name='alternateClaim']").val().length)return!0;e(w.altClaim);a=t("body").data("alternate-claim");g(a,"flow",1);return!1});t(".auth-submit-signin-form").click(function(a){a=null;(a=t(this).is("span")?t(this).find("input").data("consent"):t(this).data("consent"))||t("[name='alternateClaim']").val("skipped");t("body").data("alternate-claim-desired",a);t("#ap-signin-form").submit();return!1});c("first",function(a){if(a.claimIsValid){B&&"#back"!==r.location.hash&&
history.pushState(null,"","#back");t(".ap-post-claim-collection-form:visible").hide();var c=null;a.isAccountAvailable?(t("body").data(a.claimType+"-claim",a),t("body").data(a.claimType+"-claim-index",1),t("body").data("alternate-claim",a),g(a,"first",1),c=w.collectSecondClaim,"mobile"===a.claimType?(t(".first-claim-type").text(p.mobileLabel),t(".second-claim-type").text(p.emailLabel),t("#ap-collect-claim-skip").show(),t("#ap-second-claim").prop("type","email"),t("#ap-second-claim").data("claimTypeToEnforce",
"email")):(t(".first-claim-type").text(p.emailLabel),t(".second-claim-type").text(p.mobileLabel),t("#ap-collect-claim-skip").hide(),t("#ap-second-claim").prop("type","tel"),t("#ap-second-claim").data("claimTypeToEnforce","mobile"))):(t(".first-claim-matched").show(),t(".second-claim-matched").hide(),g(a,"any",1),c=w.signin);e(c)}else m(a.claimType)});c("second",function(a){if(a.claimIsValid){B&&"#back"!==r.location.hash&&history.pushState(null,"","#back");var c=null;a.isAccountAvailable?(t("body").data(a.claimType+
"-claim",a),t("body").data(a.claimType+"-claim-index",2),c=t("body").data("email-claim"),c!==A&&(t("#auth-alternate-claim-register").val(c.claim),a=t("body").data("email-claim-index"),g(c,"email",a)),c=t("body").data("mobile-claim"),c!==A&&(t("#mobile-claim").val(c.claim),a=t("body").data("mobile-claim-index"),g(c,"mobile",a)),d(),c=w.register):(c=t("body").data("alternate-claim"),c!==A&&(c=t("body").data("alternate-claim"),t("#auth-alternate-claim-signin").val(c.claim),g(c,"alternate",1)),t(".first-claim-matched").hide(),
t(".second-claim-matched").show(),t(".second-claim-type").text("mobile"===a.claimType?p.mobileLabel:p.emailLabel),g(a,"any",2),c=w.signin);e(c)}else m(a.claimType)})});n.when("A","client-side-counters-util","page-util").register("passwordless-auth",function(l,h,k){var f=l.$;f("#auth-skip-reset-password-link").click(function(){l.get("/ap/nocontent/ref=ap_fpp_skip_on_reset_pwd",{});h.incrementCounter("SkipResetPasswordOnResetPage"+k.determineDeviceType())})});n.when("A","client-side-counters-util",
"a-checkbox","ready").register("auth-remember-me",function(l,h,k){function f(b){b.val()!==d?(k(m).isChecked()&&h.incrementCounter(h.getCounterNameWithDeviceAndPageType("UncheckRMCheckboxForUnrecognizedEmail")),k(m).uncheck()):""!==b.val()&&(k(m).check(),h.incrementCounter(h.getCounterNameWithDeviceAndPageType("BackToCheckedRMCheckboxForRecognizedEmail")))}l=l.$;var e=l("#ap_email"),g=l("#ap_email_icon"),d=e.val(),m=l("input[name=rememberMe]");e.bind("keyup.uncheckRememberMe",function(){""!==d&&f(e)});
g.click(function(){f(e)})});n.when("A","client-side-counters-util","page-util","ready").register("auth-remove-mobile-claim",function(l,h,k){l=l.$;var f=l("#auth-remove-phone-claim");l("#ap-remove-mobile-claim-submit-button").click(function(){f.submit();h.incrementCounter("RemoveMobileClaimSubmitAttempt"+k.determineDeviceType())})});n.when("A","client-side-counters-util","ready").execute(function(l,h){l.on("a:expander:blacklist_password_learn_more:toggle:expand",function(k){h.incrementCounter("BlacklistPasswordInstructionLearnMoreExpand")});
l.on("a:expander:blacklist_password_learn_more:toggle:collapse",function(k){h.incrementCounter("BlacklistPasswordInstructionLearnMoreCollapse")})})});